@Library ('vishant-library@master') _
node {


properties(
    dildo.call()
)

    stage('prerquisites'){
        checkUser()
        helmSvcName.call()
        currentImageTag.call()
    }

    // stage('service name') {
    //     helmSvcName.call()
    // }

    // stage('Current Image Tag'){
    //     currentImageTag.call()
    // }

    stage('Fetching Source Code'){
        fetchCode.call()
    }

    stage('Let\'s Build') {
        build.call()
    }

    stage('Build Docker Image') {
        dockerCMD.call()
    }

    stage('Finally Let\'s deploy service to k8s Cluster'){
        deploy.call()
    }

    stage('Pod Status') {
        podStatus.call()
    }
}
