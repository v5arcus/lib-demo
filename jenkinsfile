@Library ('vishant-library@master') _
node {


// properties(
//     dildo.call()
// )

    stage('Plan'){
        checkUser 'staging'
        helmSvcName.call 'load-money-service'
        currentImageTag.call()
    }

    // stage('service name') {
    //     helmSvcName.call()
    // }

    // stage('Current Image Tag'){
    //     currentImageTag.call()
    // }

    stage('Fetching Source Code'){
        fetchCode.call()
    }

    stage('Build') {
        build.call()
    }

    // stage('Build Docker Image') {
    //     dockerCMD.call()
    // }

    stage('Deploy'){
        dockerCMD.call()
        deploy.call()
    }

    stage('Pod Status') {
        podStatus.call()
    }
}
